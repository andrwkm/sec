<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<meta charset="UTF-8">
		<title>Pooka</title>
		<link rel="stylesheet" type="text/css" href="./css/format.css?v=16">
		<style>
			/* Music start overlay for mobile */
			#musicOverlay {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.8);
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				z-index: 10000;
				cursor: pointer;
			}

			#musicOverlay.hidden {
				display: none;
			}

			#musicOverlay h3 {
				color: white;
				font-size: 2em;
				margin-bottom: 20px;
				text-align: center;
				padding: 0 20px;
			}

			#musicOverlay p {
				color: #fff;
				font-size: 1.2em;
				text-align: center;
				padding: 0 20px;
			}

			.music-icon {
				font-size: 4em;
				margin-bottom: 20px;
				animation: pulse 1.5s ease-in-out infinite;
			}

			@keyframes pulse {
				0%, 100% { transform: scale(1); }
				50% { transform: scale(1.1); }
			}
		</style>
	</head>

	<body style="margin:0px; overflow-x: hidden;">
		<!-- Music Start Overlay -->
		<div id="musicOverlay">
			<div class="music-icon">ðŸŽµ</div>
			<h3>Tap to Start</h3>
			<p>Tap anywhere to play music</p>
		</div>

		<audio id="backgroundMusic" loop>
			<source src="music/music.mp3" type="audio/mpeg">
			Your browser does not support the audio.
		</audio>
		<canvas></canvas>
		
		<div id="content">
			<h2 id="together">We have been together</h2>
			<div id="timer">
				<b id="d"></b> Days 
				<b id="h"></b> Hours
				<b id="m"></b> Minutes
				<b id="s"></b> Seconds
			</div>
		</div>

		<div id="imgTxt">
			<span id="Txt"></span>
			<img id="img" src="" alt="">
		</div>

		<div id="heartTxt">
			<span id="clickMe">Click!</span>
			<div id="heart">
				<button id="button" onclick="play()"></button>
			</div>
		</div>

		<div id="typeDiv">
			<span id="txt1"></span> <br />
			<span id="txt2"></span>
		</div>

		<!-- Romantic Video Section -->
		<section id="videoSection">
			<h2>My beautiful plum</h2>
			<p>Every second with you means the world to me. Here's to the start of many more adventures and frolics.</p>
			
			<div class="video-container">
				<div class="play-overlay" id="playButton"></div>
				<video id="romanticVideo" controls>
					<source src="video/our-video.mp4" type="video/mp4">
					Your browser does not support the video tag.
				</video>
			</div>
		</section>

		<script>
			var ok = 0;
			var flag = 1;
			var myImage = document.getElementById("img");
			var myTxt = document.getElementById("Txt");
			var imageArray = [
				"pic/pic1.png", "pic/pic2.png", "pic/pic3.png", "pic/pic4.png", 
				"pic/pic5.png", "pic/pic6.png", "pic/pic7.png", "pic/pic8.png", 
				"pic/pic9.png", "pic/pic10.png", "pic/pic11.png", "pic/pic12.png", 
				"pic/pic13.png", "pic/pic14.png", "pic/pic15.png", "pic/pic16.png"
			];
			var imageIndex = 0;
			var txtArray = [
				"Happy 24 Months!! :33", 
				"You and I have went through so much together.", 
				"I'm often overwhelmed with how much you mean to me.", 
				"The past two years, you've endlessly filled me with laughs, cuddles, waddles, snaccs, and love.", 
				"I cherish every single diet Coke we sip and every sleepover. I want to try giving you the world", 
				"I said this in one of my earliest flashcards to you: You make me feel perfectly at home wherever or whenever we are.", 
				"While you've offered me so much comfort and joy, you've also allowed me to grow", 
				"Whether it's through unfortunate fights or everyday challenges, you stand by me and I hope to always stand by you forever", 
				"While you are maybe a teensy little tad strict (don't beat me), you always don't mind my true self whether it's my nagging or my indecisiveness",
				"In turn, I hope you know that I love you for all that you are, too: a tuxedo cat", 
				"We've been with each other at our worst whether its our own personal struggles or with fights against each other", 
				"yet we always learn how to smile at each other at the end of the day", 
				"You are the best light that beams at me every day, blinding me even on the most mundane days.", 
				"Thank you for always being here for me.", 
				"I love you so much.", 
				"You're always so adorbs. Please never stop being goated."
			];
			var len = imageArray.length;
			var t = 0;

			// Music handling for mobile
			const musicOverlay = document.getElementById('musicOverlay');
			const backgroundMusic = document.getElementById('backgroundMusic');
			let musicStarted = false;

			function startMusic() {
				if (!musicStarted) {
					backgroundMusic.play().then(() => {
						musicStarted = true;
						musicOverlay.style.display = 'none'; // Force hide
					}).catch(error => {
						console.log('Music play failed:', error);
						musicOverlay.style.display = 'none'; // Hide even if failed
					});
				}
			}

			// Start music on tap/click
			musicOverlay.addEventListener('click', startMusic);

			// Try autoplay first (works on desktop)
			window.addEventListener('load', function() {
				backgroundMusic.play().then(() => {
					musicStarted = true;
					musicOverlay.style.display = 'none';
				}).catch(() => {
					// Autoplay blocked - overlay already visible
					musicOverlay.style.display = 'flex';
				});
			});	

			// Start music on tap/click
			musicOverlay.addEventListener('click', startMusic);

			// Video play button functionality
			const videoElement = document.getElementById('romanticVideo');
			const playButtonOverlay = document.getElementById('playButton');

			if (playButtonOverlay && videoElement) {
				playButtonOverlay.addEventListener('click', function() {
					videoElement.play();
					playButtonOverlay.classList.add('hidden');
				});

				videoElement.addEventListener('play', function() {
					playButtonOverlay.classList.add('hidden');
				});

				videoElement.addEventListener('pause', function() {
					playButtonOverlay.classList.remove('hidden');
				});

				videoElement.addEventListener('ended', function() {
					playButtonOverlay.classList.remove('hidden');
				});
			}

			// Hide fixed elements when scrolling
			const timerElement = document.getElementById('content');
			const heartElement = document.getElementById('heartTxt');
			const typeElement = document.getElementById('typeDiv');

			function handleScroll() {
				const scrollY = window.scrollY || window.pageYOffset;
				
				if (scrollY > 50) {
					timerElement.classList.add('hidden');
					heartElement.classList.add('hidden');
					typeElement.classList.add('hidden');
				} else {
					timerElement.classList.remove('hidden');
					heartElement.classList.remove('hidden');
					typeElement.classList.remove('hidden');
				}
			}

			window.addEventListener('scroll', handleScroll);
			handleScroll();
		</script>
		
		<script type="text/javascript" src="./js/stars.js"></script>
		<script type="text/javascript" src="./js/typeWriter.js"></script>
		<script type="text/javascript" src="./js/date.js"></script>
		<script type="text/javascript" src="./js/playImg.js"></script>
	</body>
</html>